<ngx-datatable
  *ngIf="columns.length > 0"
  class="bootstrap"
  [rows]="rows"
  [columns]="columns"
  [loadingIndicator]="loading"
  [columnMode]="'force'"
  [headerHeight]="50"
  [footerHeight]="50"
  [rowHeight]="'auto'"
  [scrollbarH]="true"
  [count]="totalRecords"
  [limit]="pageSize"
  [offset]="pageNumber - 1"
  [externalPaging]="true"
  [externalSorting]="true"
  (sort)="onSort($event)"
  (page)="onPage($event)"
>
  <!-- Dynamic Columns Only -->
  <ngx-datatable-column
    *ngFor="let col of columns"
    [name]="col.name"
    [prop]="col.prop"
    [sortable]="col.prop ? true : false"
  >
    <ng-template ngx-datatable-cell-template let-row="row" let-value="value">
      <!-- Render Custom Template -->
      <ng-container *ngIf="col.template; else defaultContent">
        <ng-container
          [ngTemplateOutlet]="col.template"
          [ngTemplateOutletContext]="{ $implicit: row }"
        >
        </ng-container>
      </ng-container>

      <!-- Default Content -->
      <ng-template #defaultContent>
        {{ value }}
      </ng-template>
    </ng-template>
  </ngx-datatable-column>
</ngx-datatable>
